<!DOCTYPE html>
<html>

<head>
    <title>TrieLingual</title>
    <meta charset="utf-8">
    <meta name="description" content="Learn languages by exploring the words most commonly used together.">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="/js/data-load.js"></script>
    <script type="module" src="/js/modules/init.js"></script>
    <link rel="stylesheet" type="text/css" href="css/trielingual.css">
    <link rel="manifest" href="/manifest.json">
    <!-- <link rel="icon" href="images/favicon-32x32.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png"> -->
</head>

<body>
    <div id="landing" style="display:none">
        <header class="header">
            <h1 class="main-header">TrieLingual</h1>
        </header>
        <main>
            <section>
                <h2>Choose a language</h2>
            </section>
            <section id="language-grid" class="language-grid">
                <div id="french-language-card" class="language-card blue" data-lang="fr-FR">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üá´üá∑</span> French</p>
                    <p class="language-nickname">(FrenchTriesüçü)</p>
                </div>
                <div id="portuguese-language-card" class="language-card green" data-lang="pt-BR">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üáßüá∑</span> Portuguese</p>
                    <p class="language-nickname">(Portrieguese)</p>
                </div>
                <div id="italian-language-card" class="language-card red" data-lang="it-IT">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üáÆüáπ</span> Italian</p>
                    <p class="language-nickname">(Trietalian)</p>
                </div>
                <div id="german-language-card" class="language-card yellow" data-lang="de-DE">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üá©üá™</span> German</p>
                    <p class="language-nickname">(Triedesco, I guess?)</p>
                </div>
                <div id="spanish-language-card" class="language-card orange" data-lang="es-ES">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üá™üá∏</span> Spanish</p>
                    <p class="language-nickname">(esp√°rbol)</p>
                </div>
                <div id="norwegian-language-card" class="language-card red" data-lang="nb-NO">
                    <div class="card-accent" aria-hidden="true"></div>
                    <p class="language-name"><span class="language-flag" aria-hidden="true">üá≥üá¥</span> Norwegian</p>
                    <p class="language-nickname">(Nortreegian)</p>
                </div>
            </section>
        </main>
    </div>
    <div id="main-container">
        <div id="header-container">
            <header class="header">
                <div class="menu-container">
                    <label id="menu-button">
                        <i class="menu-expand"></i>
                    </label>
                </div>
                <div id="controls">
                    <form id="search-form" class="control" role="search">
                        <!-- i18n? what's that? -->
                        <label class="visually-hidden" for="search-box">Choose a word</label>
                        <div class="search-field">
                            <input id="search-box" type="text" placeholder="Search a word" maxlength="40"
                                aria-label="Choose a word" />
                            <button type="submit" class="icon-button search-button" aria-label="Search">
                                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                                    <path
                                        d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM10 14a4 4 0 110-8 4 4 0 010 8z" />
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
                <div class="stats-container"><a id="stats-show"><i class="stats-button"></i></a></div>
            </header>
        </div>
        <div id="container">
            <script>
                if (!targetLang) {
                    document.getElementById('container').style.display = 'none';
                    document.getElementById('landing').removeAttribute('style');
                }
            </script>
            <!-- lol, like control plane -->
            <div id="control-pane">
                <div id="example-container">
                    <ul id="examples">
                        <li class="walkthrough">
                            <h2 class="walkthrough-title">TrieLingual</h2>
                            <h3 class="walkthrough-heading">Learn by Exploring Word Connections</h3>
                            <p>
                                Enter a word above to see how it connects to others. <strong>Boxes</strong> represent
                                words, and <strong>lines</strong> show which words commonly follow.
                            </p>
                            <p>
                                Click any word to view real example sentences. Build your study list by adding sentences
                                you
                                want to master, then export them to Anki or your favorite flashcard app.
                            </p>
                            <p>
                                Zoom, drag, and rearrange the graph freely. Colors indicate word frequency‚Äîfind more at
                                <a class="faq-link" id="show-general-faq">the FAQ</a>.
                            </p>
                        </li>
                    </ul>
                </div>
                <div id="study-container" style="display:none">
                    <p id="explain-text">Not sure how this works? <a class="faq-link" id="show-study-faq">Learn
                            more.</a></p>
                    <p id="cards-due">
                        Cards due: <span id="card-due-count"></span>
                    </p>
                    <p id="study-call-to-action" class="study-call-to-action">
                        <span id="task-description">What does the text below mean?</span>
                        <span id="task-complete">Studying complete. Check back later for more reviews. <br />You can
                            also
                            add more cards by exploring the graph!</span>
                    </p>
                    <p id="card-question-container"></p>
                    <span id="show-answer-button" class="study-call-to-action">Show Answer</span>
                    <div id="card-answer-container" style="display:none">
                        <p id="card-answer"></p>
                        <ul id="result-buttons">
                            <li id="wrong-button">I didn't know that</li>
                            <li id="right-button">I knew that!</li>
                        </ul>
                        <p id="delete-card-button" class="text-button">Delete this card</p>
                        <div id="past-performance-container" class="card-detail">
                            <p id="card-new-message" style="display:none">This is a new card!</p>
                            <div id="card-old-message" style="display: none;">
                                <p>Previous attempts: <span id="card-percentage"></span>% correct.</p>
                                <p>Right <span id="card-right-count"></span>; Wrong <span id="card-wrong-count"></span>.
                                </p>
                            </div>
                        </div>
                        <div id="related-cards-container" class="card-detail" style="display:none">
                            Other cards with <span id="related-card-query"></span>:
                            <div id="related-cards" class="related-cards"></div>
                        </div>
                    </div>
                </div>
                <!-- legend moved to graph-area so it sits below the visualization -->
            </div>
            <div id="graph-area">
                <div id="graph"></div>
                <div id="graph-legend">
                    <div>
                        The color of a word indicates its frequency.
                    </div>
                    <div id="level-container">
                        <div id="gradient-labels">
                            <span>More common</span>
                            <div id="gradient-legend"></div>
                            <span>Less common</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="stats-container" style="display:none">
        <header class="header">
            <div class="exit-container"><i id="exit-button" class="exit-arrow"></i></div>
            <h1 class="main-header">TrieLingual</h1>
            <div class="stats-container"></div>
        </header>
        <main class="stats">
            <section>
                <h3>You've studied examples for:</h3>
                <div id="studied-graph"></div>
                <p id="studied-graph-detail" class="stats-detail">Click a bar in the chart for details.</p>
            </section>
            <section>
                <h2>Study Stats</h2>
                <div id="study-calendar-container" style="display: none;">
                    <h3>Study stats by day:</h3>
                    <div id="study-calendar"></div>
                    <p id='study-calendar-detail' class="stats-detail">Click a box in the calendar for details. Brighter
                        colors mean more
                        studying.
                    </p>
                </div>
                <h3>Cards added by day:</h3>
                <div id="added-calendar"></div>
                <p id='added-calendar-detail' class="stats-detail">Click a box in the calendar for details. Brighter
                    colors mean more cards
                    added.
                </p>
                <div id="hourly-container" style="display: none;">
                    <h3>Study stats by hour:</h3>
                    <p id='hourly-graph-detail' class="stats-detail">Click a bar in the chart for details. <br />Green:
                        75% correct or
                        better.
                        Blue:
                        between 50% and 75%. Orange: between 25% and 50%. Red: less than 25% correct.</p>
                    <div id="hourly-graph"></div>
                </div>
            </section>
        </main>
    </div>
    <div id="faq-container" style="display:none">
        <header class="header">
            <div class="exit-container"><i id="faq-exit-button" class="exit-arrow"></i></div>
            <h1 class="main-header">TrieLingual</h1>
            <div class="stats-container"></div>
        </header>
        <main class="faq">
            <section id="faq-general" style="display:none">
                <p>This site is a prototype, but it&#39;s decently usable in its current state. Feel free to see the
                    (currently
                    at a
                    hackathon level of quality) <a href="https://github.com/mreichhoff/TrieLingual">code</a> or contact
                    <a href="https://github.com/mreichhoff">the author on github</a>.
                </p>
                <p>The idea is to emphasize the connections among words to help learners remember them.
                </p>
                <ul>
                    <li>
                        <h3>Is there an app?</h3>
                        <ul>
                            <li>The site is a progressive web app. This means it uses modern browser APIs to make an
                                installable
                                app. Follow <a
                                    href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Installing">the
                                    directions for your platform</a> to install it. A truly native app downloadable from
                                the app
                                stores may be a future work item.</li>
                        </ul>
                    </li>
                    <li>
                        <h3>Where did the examples come from?</h3>
                        <ul>
                            <li>The examples came from <a href="https://tatoeba.org">Tatoeba</a>, which releases data
                                under <a href="https://creativecommons.org/licenses/by/2.0/fr">CC-BY 2.0 FR</a>, and
                                from <a href="http://www.opensubtitles.org/">OpenSubtitles</a>, pulled from <a
                                    href="https://opus.nlpl.eu/OpenSubtitles2018.php">opus.nlpl.eu</a>. </li>
                            <li>
                                TODO: once definitions are added, update this
                            </li>
                        </ul>
                    </li>
                    <li>
                        <h3>Which words are present?</h3>
                        <ul>
                            <li>The top 10,000 most frequent words should all be present, though sometimes garbage data
                                will slip through.
                                <a href="https://github.com/mreichhoff/TrieLingual/issues/new/choose">Ping on github</a>
                                with any issues. More examples and definitions will be added in the future.
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section id="faq-study-mode" style="display:none">
                <ul>
                    <li>
                        <h3>How does study mode work?</h3>
                        <ul>
                            <li>When you add words to your study list, they will be presented to you as flashcards.
                                You&#39;ll
                                be
                                shown the sentence and asked what it means; click &quot;Show Answer&quot; to see how
                                tatoeba
                                translated it. When you click &quot;I didn&#39;t know that&quot;, the card will be added
                                back to
                                the
                                end of your to-study list. When you click &quot;I knew that!&quot;, it will be shown one
                                day
                                later,
                                then two days if you get it right again, then four, and so on. It is meant to be a very,
                                very
                                basic
                                <a href="https://en.wikipedia.org/wiki/Spaced_repetition">spaced repetition system</a>.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <h3>What does the export button do?</h3>
                        <ul>
                            <li>The export button downloads a file that can be imported into a different (better) spaced
                                repetition
                                system, like Anki.</li>
                        </ul>
                    </li>
                    <li>
                        <h3>Where are the flashcards stored?</h3>
                        <ul>
                            <li>All data for the site is stored in <a
                                    href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">localStorage</a>.
                                It
                                does not leave your browser, and clearing your browser data will clear it.</li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section id="faq-single-char-warning" style="display:none">
                <ul>
                    <li>
                        <h3>Why are the examples for certain characters a little strange?</h3>
                        <ul>
                            <li>Some characters are not commonly used alone. The examples use a process called <a
                                    href="https://nlp.stanford.edu/IR-book/html/htmledition/tokenization-1.html">tokenization</a>
                                to
                                split the sentences into individual words. For example, ‰ªñÊòØÈùûÂ∏∏Â•Ω might be split into words
                                like: ‰ªñ,
                                ÊòØ,
                                ÈùûÂ∏∏, Â•Ω, so searching for Èùû by itself would not match. Future updates might show any
                                sentences that contain the character, even if
                                it&#39;s used
                                as
                                part of another word.</li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section id="faq-context" style="display:none">
                <ul>
                    <li>
                        <h3>What does this "Previously" thing mean?</h3>
                        <ul>
                            <li>As you search, click, or tap words or connections in the diagram, you are shown example
                                sentences. Then, when you add words to your study list, the examples are converted to
                                flashcards.
                                The 'previous' section indicates how many times you've
                                viewed examples for each of the characters in a given word, and how many cards contain
                                those characters. The numbers are based on how things were when you viewed the examples,
                                so if it's your first time seeing examples for a character, it'll say seen 0 times.
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
        </main>
    </div>
    <div id="menu-container" style="display:none">
        <header class="header">
            <div class="exit-container"><i id="menu-exit-button" class="exit-arrow"></i></div>
            <h1 class="main-header">TrieLingual</h1>
            <div class="stats-container"></div>
        </header>
        <main class="menu">
            <div class="menu-item">
                <label class="menu-item-text" for="language-selector">Language:</label>
                <select id="language-selector">
                    <option>French</option>
                    <option>Portuguese</option>
                    <option>Italian</option>
                    <option>German</option>
                    <option>Spanish</option>
                    <option>Norwegian</option>
                </select>
            </div>
            <div class="menu-item menu-item-clickable" id="exportStudyListButton" style="display:none">
                Export study list
            </div>
            <div class="menu-item">
                <span class="menu-item-text"><a href="https://github.com/mreichhoff/TrieLingual/blob/main/README.md">See
                        the README for more information.</a></span>
            </div>
        </main>
    </div>
    <script type="module" src="/js/bundle.js"></script>
</body>

</html>